<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Thiago Martins — Portfólio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root {
  --bg: #0e0e0e;
  --card: #161616;
  --text: #eaeaea;
  --muted: #9a9a9a;
  --accent: #4f9cff;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
}

.container { max-width: 900px; margin: auto; padding: 60px 24px; }

header { margin-bottom: 60px; }
header h1 { font-size: 2.2rem; margin-bottom: 8px; }
header p { color: var(--muted); max-width: 620px; }

section { margin-bottom: 64px; }
section h2 {
  font-size: 1.4rem;
  margin-bottom: 16px;
  border-left: 3px solid var(--accent);
  padding-left: 12px;
}

ul { list-style: none; }
li { margin-bottom: 24px; }

.topic-link { display: block; text-decoration: none; color: inherit; }

.card {
  background: var(--card);
  border-radius: 12px;
  padding: 16px;
  transition: transform .2s ease, background .2s ease;
}
.card:hover { transform: translateY(-3px); background: #1d1d1d; }

.topic-title { font-weight: 500; margin-bottom: 4px; }
.topic-desc { font-size: .9rem; color: var(--muted); margin-bottom: 12px; }

canvas {
  width: 100%;
  height: 180px;
  background: #0b0b0b;
  border-radius: 8px;
  display: block;
}

footer {
  margin-top: 80px;
  font-size: .8rem;
  color: var(--muted);
  text-align: center;
}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>Thiago Martins</h1>
  <p>
    Coleção de estudos, experimentos e interações.
    Cada item leva a um projeto independente em tela cheia.
  </p>
</header>

<section>
  <h2>Interações Visuais</h2>
  <ul>
    <!-- PROJETO 1 -->
    <li>
      <a href="projeto1.html" class="topic-link">
        <div class="card">
          <div class="topic-title">Tecido interativo</div>
          <div class="topic-desc">Simulação de malha reagindo a movimento e toque.</div>
          <canvas id="fabric1"></canvas>
        </div>
      </a>
    </li>

    <!-- PROJETO 2 -->
    <li>
      <a href="projeto2.html" class="topic-link">
        <div class="card">
          <div class="topic-title">Campo orbital energético</div>
          <div class="topic-desc">Partículas orbitais guiadas por campos senoidais vivos.</div>
          <canvas id="fabric2"></canvas>
        </div>
      </a>
    </li>

    <!-- PROJETO 3 -->
    <li>
      <a href="projeto3.html" class="topic-link">
        <div class="card">
          <div class="topic-title">Tecido sensível ao toque</div>
          <div class="topic-desc">Interação elástica com mouse e touch.</div>
          <canvas id="fabric3"></canvas>
        </div>
      </a>
    </li>

    <!-- PROJETO 4 -->
    <li>
      <a href="projeto4.html" class="topic-link">
        <div class="card">
          <div class="topic-title">Tecido colapsável interativo</div>
          <div class="topic-desc">Malha reagindo ao toque com efeito elástico gradual.</div>
          <canvas id="fabric4"></canvas>
        </div>
      </a>
    </li>

    <!-- PROJETO 5 -->
    <li>
      <a href="projeto5.html" class="topic-link">
        <div class="card">
          <div class="topic-title">Partículas Interativas</div>
          <div class="topic-desc">Partículas independentes reagindo ao mouse e clique.</div>
          <canvas id="fabric5"></canvas>
        </div>
      </a>
    </li>

  </ul>
</section>

<footer>
  © 2026 — Portfólio pessoal
</footer>
</div>

<script>
/* ======================
   FUNÇÃO UNIFICADA DE CANVAS
====================== */
function initFabric({canvasId, spacing=16, type="points", color="#4f9cff", radius=120}) {
  const c = document.getElementById(canvasId);
  const ctx = c.getContext("2d");
  let points = [];
  let pointer = {x:0, y:0, active:false};
  let repel = false; // adicionado para Fabric5

  function resize() {
    c.width = c.offsetWidth;
    c.height = c.offsetHeight;
    points = [];
    if(type==="points" || type==="fabric1" || type==="fabric4") {
      for(let y=0;y<c.height;y+=spacing){
        for(let x=0;x<c.width;x+=spacing){
          points.push({x,y,ox:x,oy:y,vx:0,vy:0});
        }
      }
    }
    if(type==="fabric5"){
      for(let y=0;y<c.height;y+=spacing){
        for(let x=0;x<c.width;x+=spacing){
          points.push({x,y,vx:(Math.random()-0.5)*1, vy:(Math.random()-0.5)*1});
        }
      }
    }
  }
  resize();
  window.addEventListener("resize", resize);

  c.addEventListener("mousemove", e => {
    const r=c.getBoundingClientRect();
    pointer.x=e.clientX-r.left;
    pointer.y=e.clientY-r.top;
    pointer.active=true;
  });
  c.addEventListener("mouseleave",()=>pointer.active=false);

  c.addEventListener("click", ()=>{ if(type==="fabric5") repel=!repel; });

  c.addEventListener("touchstart", e => {
    const t = e.touches[0];
    const r = c.getBoundingClientRect();
    pointer.x = t.clientX - r.left;
    pointer.y = t.clientY - r.top;
    pointer.active = true;
  }, {passive:false});
  c.addEventListener("touchmove", e => {
    const t = e.touches[0];
    const r = c.getBoundingClientRect();
    pointer.x = t.clientX - r.left;
    pointer.y = t.clientY - r.top;
  }, {passive:false});
  c.addEventListener("touchend",()=>pointer.active=false);

  let time = 0;
  const particles = Array.from({length:180},()=>({
    a:Math.random()*Math.PI*2,
    r:20+Math.random()*60,
    s:0.005+Math.random()*0.01
  }));

  function animate(){
    ctx.clearRect(0,0,c.width,c.height);

    if(type==="fabric1" || type==="fabric4"){
      for(const p of points){
        p.vx+=(p.ox-p.x)*0.025;
        p.vy+=(p.oy-p.y)*0.025;
        if(pointer.active){
          const dx=pointer.x-p.x;
          const dy=pointer.y-p.y;
          const d=Math.hypot(dx,dy)||1;
          if(d<radius){
            const f=(radius-d)/radius;
            p.vx+=(dx/d)*f*3;
            p.vy+=(dy/d)*f*3;
          }
        }
        p.vx*=0.88;
        p.vy*=0.88;
        p.x+=p.vx;
        p.y+=p.vy;
        ctx.fillStyle=color;
        ctx.fillRect(p.x,p.y,2,2);
      }
    }
    else if(type==="orbital"){
      const cx=c.width/2;
      const cy=c.height/2;
      for(const p of particles){
        p.a+=p.s;
        const wave=Math.sin(time+p.a*3)*20;
        const x=cx+Math.cos(p.a)*(p.r+wave);
        const y=cy+Math.sin(p.a)*(p.r+wave*0.7);
        ctx.fillStyle=color;
        ctx.fillRect(x,y,2,2);
      }
      time+=0.01;
    }
    else if(type==="points"){
      for(const p of points){
        if(pointer.active){
          const dx=p.x-pointer.x;
          const dy=p.y-pointer.y;
          const d=Math.hypot(dx,dy);
          if(d<radius){
            const f=(radius-d)*0.12;
            const a=Math.atan2(dy,dx);
            p.vx+=Math.cos(a)*f;
            p.vy+=Math.sin(a)*f;
          }
        }
        p.vx+=(p.ox-p.x)*0.02;
        p.vy+=(p.oy-p.y)*0.02;
        p.vx*=0.86;
        p.vy*=0.86;
        p.x+=p.vx;
        p.y+=p.vy;
        ctx.fillStyle=color;
        ctx.beginPath();
        ctx.arc(p.x,p.y,1.4,0,Math.PI*2);
        ctx.fill();
      }
    }
    else if(type==="fabric5"){ // partículas interativas
      for(const p of points){
        p.vx += (Math.random()-0.5)*0.1;
        p.vy += (Math.random()-0.5)*0.1;

        if(pointer.active){
          const dx = pointer.x - p.x;
          const dy = pointer.y - p.y;
          const d = Math.hypot(dx,dy)||1;
          const radiusLocal = 120;
          if(repel){
            if(d<radiusLocal){
              const f = (radiusLocal-d)/radiusLocal;
              p.vx -= (dx/d)*f*2;
              p.vy -= (dy/d)*f*2;
            }
          } else {
            if(d<radiusLocal){
              const f = (radiusLocal-d)/radiusLocal;
              p.vx += (dx/d)*f*1.5;
              p.vy += (dy/d)*f*1.5;
            }
          }
        }

        p.vx *= 0.9;
        p.vy *= 0.9;
        p.x += p.vx;
        p.y += p.vy;

        if(p.x<0)p.x=c.width;
        if(p.x>c.width)p.x=0;
        if(p.y<0)p.y=c.height;
        if(p.y>c.height)p.y=0;

        ctx.fillStyle = `hsl(${Math.random()*360},100%,70%)`;
        ctx.fillRect(p.x,p.y,2,2);
      }
    }

    requestAnimationFrame(animate);
  }
  animate();
}

/* ======================
   INICIALIZAÇÃO DOS CANVASES
====================== */
initFabric({canvasId:"fabric1", spacing:18, type:"fabric1", color:"#4f9cff", radius:120});
initFabric({canvasId:"fabric2", type:"orbital", color:"#9cffc1"});
initFabric({canvasId:"fabric3", spacing:16, type:"points", color:"#00f0ff", radius:90});
initFabric({canvasId:"fabric4", spacing:18, type:"fabric4", color:"#ff6cff", radius:120});
initFabric({canvasId:"fabric5", spacing:18, type:"fabric5", color:"#ffdc4f", radius:120});
</script>
  
<audio autoplay loop>
  <source src="som.mp4" type="audio/mp4">
</audio>

</body>
</html>
