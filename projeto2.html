<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Campo Orbital Energético</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: #0b0b0b;
  touch-action: none;
}

canvas {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
</head>

<body>
<canvas id="orbital"></canvas>

<script>
/* ==========================
   CAMPO ORBITAL — FULLSCREEN
========================== */

const canvas = document.getElementById("orbital");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* ===== PARTÍCULAS ===== */
let time = 0;

const particles = Array.from({ length: 420 }, () => ({
  a: Math.random() * Math.PI * 2,
  r: 40 + Math.random() * 220,
  s: 0.002 + Math.random() * 0.01,
  p: Math.random() * Math.PI * 2
}));

/* ===== INPUT ===== */
let pointer = {
  x: 0,
  y: 0,
  active: false
};

canvas.addEventListener("mousemove", e => {
  pointer.x = e.clientX;
  pointer.y = e.clientY;
  pointer.active = true;
});

canvas.addEventListener("mouseleave", () => pointer.active = false);

canvas.addEventListener("touchstart", e => {
  const t = e.touches[0];
  pointer.x = t.clientX;
  pointer.y = t.clientY;
  pointer.active = true;
});

canvas.addEventListener("touchmove", e => {
  const t = e.touches[0];
  pointer.x = t.clientX;
  pointer.y = t.clientY;
});

canvas.addEventListener("touchend", () => pointer.active = false);

/* ===== ANIMAÇÃO ===== */
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  const cx = canvas.width / 2;
  const cy = canvas.height / 2;

  particles.forEach(p => {
    p.a += p.s;

    let wave = Math.sin(time + p.a * 3 + p.p) * 40;

    if (pointer.active) {
      const dx = pointer.x - cx;
      const dy = pointer.y - cy;
      const d = Math.hypot(dx, dy) || 1;
      wave += Math.sin(d * 0.02 + time) * 30;
    }

    const x = cx + Math.cos(p.a) * (p.r + wave);
    const y = cy + Math.sin(p.a) * (p.r + wave * 0.7);

    ctx.fillStyle = "#9cffc1";
    ctx.fillRect(x, y, 2, 2);
  });

  time += 0.008;
  requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>
